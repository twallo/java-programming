"use strict";(self.webpackChunkohjelmoinnin_mooc=self.webpackChunkohjelmoinnin_mooc||[]).push([[486],{62138:function(e,t,n){n.d(t,{Z:function(){return M}});var a=n(67294),r=n(85420),i=n(29114),o=n(1097),s=n(48086),l=n(22702),c=n(92206),u=n(87198),d=n(83332),m=n(82441),h=n(94694),p=n(50535),f=n(13578),g=n(77606),v=n(73935),E=n(40016),_=n(89711),Z=n(90058),C=n(31690),b=n(31295),x=n(58591);const y=(0,p.default)(C.Z).withConfig({displayName:"DropdownMenu__StyledFormControl",componentId:"olaryr-0"})(["width:100%;"]);var k=(0,x.Z)("user")((0,f.Z)((e=>{let{selectedVariant:t,setSelectedVariant:n,t:r}=e;const{0:i,1:o}=(0,a.useState)(0),s=(0,a.useRef)(null);(0,a.useEffect)((()=>{o(v.findDOMNode(s.current).offsetWidth)}));return a.createElement(y,{variant:"outlined"},a.createElement(_.Z,{ref:s,htmlFor:"course-variant-select"},r("whichCourse")),a.createElement(b.Z,{value:t,onChange:e=>{n(e.target.value)},input:a.createElement(E.Z,{labelWidth:i,name:"course-variant",id:"course-variant-select"})},a.createElement(Z.Z,{value:"i"},"Java Programming I"),a.createElement(Z.Z,{value:"ii"},"Java Programming II")))})));n(25444);const w=p.default.div.withConfig({displayName:"CourseOptionsEditor__Row",componentId:"sc-15i8a3h-0"})(["margin-bottom:1.5rem;"]),I=p.default.form.withConfig({displayName:"CourseOptionsEditor__Form",componentId:"sc-15i8a3h-1"})([""]),S=p.default.div.withConfig({displayName:"CourseOptionsEditor__InfoBox",componentId:"sc-15i8a3h-2"})(["margin-bottom:2rem;"]),L=p.default.div.withConfig({displayName:"CourseOptionsEditor__FormContainer",componentId:"sc-15i8a3h-3"})(["height:100%;margin-top:2rem;"]);(0,p.default)(g.G).withConfig({displayName:"CourseOptionsEditor__StyledIcon",componentId:"sc-15i8a3h-4"})(["margin-right:0.25rem;"]);class N extends a.Component{constructor(){super(...arguments),this.onClick=async e=>{e.preventDefault(),this.setState({submitting:!0});let t={applies_for_study_right:this.state.applies_for_study_right,digital_education_for_all:this.state.digital_education_for_all,marketing:this.state.marketing,research:this.state.research,course_variant:this.state.currentCourseVariant};const n={first_name:this.state.first_name,last_name:this.state.last_name,organizational_id:this.state.student_number};await(0,h.ek)({extraFields:t,userField:n}),this.setState({submitting:!1}),this.props.onComplete()},this.state={submitting:!1,error:!0,errorObj:{},applies_for_study_right:!1,digital_education_for_all:!1,marketing:!1,research:void 0,first_name:void 0,last_name:void 0,email:void 0,student_number:void 0,loading:!0,focused:null},this.handleInput=e=>{const t=e.target.name,n=e.target.value;this.setState({[t]:n},(()=>{this.validate()}))},this.handleCheckboxInput=e=>{const t=e.target.name,n=e.target.checked;this.setState({[t]:n},(()=>{this.validate()}))},this.handleFocus=e=>{const t=e.target.name;this.setState({focused:t})},this.handleUnFocus=()=>{this.setState({focused:null})},this.validate=()=>{this.setState((e=>({error:void 0===e.research})))},this.setSelectedVariant=e=>{this.setState({currentCourseVariant:e})}}async componentDidMount(){var e,t,n,a,r,i,o,s;const l=await(0,h.$V)();this.setState({first_name:null===(e=l.user_field)||void 0===e?void 0:e.first_name,last_name:null===(t=l.user_field)||void 0===t?void 0:t.last_name,email:l.email,student_number:null===(n=l.user_field)||void 0===n?void 0:n.organizational_id,applies_for_study_right:"t"===(null===(a=l.extra_fields)||void 0===a?void 0:a.applies_for_study_right),digital_education_for_all:"t"===(null===(r=l.extra_fields)||void 0===r?void 0:r.digital_education_for_all),marketing:"t"===(null===(i=l.extra_fields)||void 0===i?void 0:i.marketing),research:null===(o=l.extra_fields)||void 0===o?void 0:o.research,currentCourseVariant:null===(s=l.extra_fields)||void 0===s?void 0:s.course_variant,loading:!1},(()=>{this.validate()}))}render(){return a.createElement(L,null,a.createElement(m.Z,{loading:this.state.loading,heightHint:"490px"},a.createElement(S,null,a.createElement(r.Z,null,a.createElement(i.Z,null,this.props.t("loggedInWith"),this.state.email)))),a.createElement("h1",null,this.props.t("studentInfo")),a.createElement(I,null,a.createElement(S,null,this.props.t("aboutYourself")),a.createElement(m.Z,{loading:this.state.loading,heightHint:"490px"},a.createElement("div",null,a.createElement(w,null,a.createElement(o.Z,{variant:"outlined",type:"text",label:this.props.t("firstName"),autoComplete:"given-name",name:"first_name",InputLabelProps:{shrink:this.state.first_name||"first_name"===this.state.focused},fullWidth:!0,value:this.state.first_name,onChange:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleUnFocus})),a.createElement(w,null,a.createElement(o.Z,{variant:"outlined",type:"text",label:this.props.t("lastName"),autoComplete:"family-name",name:"last_name",InputLabelProps:{shrink:this.state.last_name||"last_name"===this.state.focused},fullWidth:!0,value:this.state.last_name,onChange:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleUnFocus})),a.createElement(w,null,a.createElement(o.Z,{variant:"outlined",type:"text",label:this.props.t("sid"),name:"student_number",InputLabelProps:{shrink:this.state.student_number||"student_number"===this.state.focused},fullWidth:!0,value:this.state.student_number,onChange:this.handleInput,helperText:this.props.t("nosid"),onFocus:this.handleFocus,onBlur:this.handleUnFocus})),a.createElement(w,null,a.createElement(k,{selectedVariant:this.state.currentCourseVariant||"i",setSelectedVariant:this.setSelectedVariant})),a.createElement(w,null,a.createElement(s.Z,{control:a.createElement(l.Z,{checked:this.state.marketing,onChange:this.handleCheckboxInput,name:"marketing",value:"1"}),label:this.props.t("marketing")})))),a.createElement("h2",null,this.props.t("researchTitle")),a.createElement("p",null,this.props.t("research1")),a.createElement("ol",null,a.createElement("li",null,this.props.t("research2")),a.createElement("li",null,this.props.t("research3")),a.createElement("li",null,this.props.t("research4"))),a.createElement("p",null,this.props.t("research5"),a.createElement("a",{href:"https://dl.acm.org/citation.cfm?id=2858798",target:"_blank",rel:"noopener noreferrer"},"Educational Data Mining and Learning Analytics in Programming: Literature Review and Case Studies"),"."),a.createElement("p",null,this.props.t("research6")),a.createElement("p",null,this.props.t("research7")),a.createElement(w,null,a.createElement(m.Z,{loading:this.state.loading,heightHint:"115px"},a.createElement(c.Z,{"aria-label":this.props.t("researchAgree"),name:"research",value:this.state.research,onChange:this.handleInput},a.createElement(s.Z,{value:"1",control:a.createElement(u.Z,{color:"primary"}),label:this.props.t("researchYes")}),a.createElement(s.Z,{value:"0",control:a.createElement(u.Z,null),label:this.props.t("researchNo")})))),a.createElement(w,null,a.createElement(d.Z,{onClick:this.onClick,disabled:this.state.submitting||this.state.error,loading:this.state.submitting,variant:"contained",color:"primary",fullWidth:!0},this.props.t("save")))),this.state.error&&a.createElement(S,null,a.createElement("b",null,this.props.t("fillRequired"))))}}var M=(0,x.Z)("common")((0,f.Z)(N))},88282:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var a=n(67294),r=n(35414),i=n(50535),o=n(22989),s=n(62138),l=n(25444),c=n(54021),u=n(86810),d=n(94694),m=n(77606),h=n(23168),p=n(45987),f=n(4942),g=n(87462),v=n(85505),E=n(34621),_=n(381),Z=n(73935),C=n(70703),b=n(11291),x=n(57544);function y(e){return e.substring(2).toLowerCase()}var k=function(e){var t=e.children,n=e.disableReactTree,r=void 0!==n&&n,i=e.mouseEvent,o=void 0===i?"onClick":i,s=e.onClickAway,l=e.touchEvent,c=void 0===l?"onTouchEnd":l,u=a.useRef(!1),d=a.useRef(null),m=a.useRef(!1),h=a.useRef(!1);a.useEffect((function(){return setTimeout((function(){m.current=!0}),0),function(){m.current=!1}}),[]);var p=a.useCallback((function(e){d.current=Z.findDOMNode(e)}),[]),f=(0,b.Z)(t.ref,p),g=(0,x.Z)((function(e){var t=h.current;if(h.current=!1,m.current&&d.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(u.current)u.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(d.current)>-1;else n=!(0,C.Z)(d.current).documentElement.contains(e.target)||d.current.contains(e.target);n||!r&&t||s(e)}})),v=function(e){return function(n){h.current=!0;var a=t.props[e];a&&a(n)}},E={ref:f};return!1!==c&&(E[c]=v(c)),a.useEffect((function(){if(!1!==c){var e=y(c),t=(0,C.Z)(d.current),n=function(){u.current=!0};return t.addEventListener(e,g),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,g),t.removeEventListener("touchmove",n)}}}),[g,c]),!1!==o&&(E[o]=v(o)),a.useEffect((function(){if(!1!==o){var e=y(o),t=(0,C.Z)(d.current);return t.addEventListener(e,g),function(){t.removeEventListener(e,g)}}}),[g,o]),a.createElement(a.Fragment,null,a.cloneElement(t,E))},w=n(81664),I=n(88231),S=n(43337),L=n(58063),N=n(37595),M=a.forwardRef((function(e,t){var n=e.action,r=e.classes,i=e.className,o=e.message,s=e.role,l=void 0===s?"alert":s,c=(0,p.Z)(e,["action","classes","className","message","role"]);return a.createElement(L.Z,(0,g.Z)({role:l,square:!0,elevation:6,className:(0,v.Z)(r.root,i),ref:t},c),a.createElement("div",{className:r.message},o),n?a.createElement("div",{className:r.action},n):null)})),O=(0,E.Z)((function(e){var t="light"===e.palette.type?.8:.98,n=(0,N._4)(e.palette.background.default,t);return{root:(0,g.Z)({},e.typography.body2,(0,f.Z)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(M),T=a.forwardRef((function(e,t){var n=e.action,r=e.anchorOrigin,i=(r=void 0===r?{vertical:"bottom",horizontal:"center"}:r).vertical,o=r.horizontal,s=e.autoHideDuration,l=void 0===s?null:s,c=e.children,u=e.classes,d=e.className,m=e.ClickAwayListenerProps,h=e.ContentProps,f=e.disableWindowBlurListener,E=void 0!==f&&f,Z=e.message,C=e.onClose,b=e.onEnter,y=e.onEntered,L=e.onEntering,N=e.onExit,M=e.onExited,T=e.onExiting,F=e.onMouseEnter,R=e.onMouseLeave,P=e.open,D=e.resumeHideDuration,W=e.TransitionComponent,V=void 0===W?S.Z:W,B=e.transitionDuration,H=void 0===B?{enter:_.x9.enteringScreen,exit:_.x9.leavingScreen}:B,z=e.TransitionProps,j=(0,p.Z)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),A=a.useRef(),G=a.useState(!0),U=G[0],Y=G[1],q=(0,x.Z)((function(){C&&C.apply(void 0,arguments)})),J=(0,x.Z)((function(e){C&&null!=e&&(clearTimeout(A.current),A.current=setTimeout((function(){q(null,"timeout")}),e))}));a.useEffect((function(){return P&&J(l),function(){clearTimeout(A.current)}}),[P,l,J]);var X=function(){clearTimeout(A.current)},$=a.useCallback((function(){null!=l&&J(null!=D?D:.5*l)}),[l,D,J]);return a.useEffect((function(){if(!E&&P)return window.addEventListener("focus",$),window.addEventListener("blur",X),function(){window.removeEventListener("focus",$),window.removeEventListener("blur",X)}}),[E,$,P]),!P&&U?null:a.createElement(k,(0,g.Z)({onClickAway:function(e){C&&C(e,"clickaway")}},m),a.createElement("div",(0,g.Z)({className:(0,v.Z)(u.root,u["anchorOrigin".concat((0,w.Z)(i)).concat((0,w.Z)(o))],d),onMouseEnter:function(e){F&&F(e),X()},onMouseLeave:function(e){R&&R(e),$()},ref:t},j),a.createElement(V,(0,g.Z)({appear:!0,in:P,onEnter:(0,I.Z)((function(){Y(!1)}),b),onEntered:y,onEntering:L,onExit:N,onExited:(0,I.Z)((function(){Y(!0)}),M),onExiting:T,timeout:H,direction:"top"===i?"down":"up"},z),c||a.createElement(O,(0,g.Z)({message:Z,action:n},h)))))})),F=(0,E.Z)((function(e){var t={top:8},n={bottom:8},a={justifyContent:"flex-end"},r={justifyContent:"flex-start"},i={top:24},o={bottom:24},s={right:24},l={left:24},c={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,g.Z)({},t,(0,f.Z)({},e.breakpoints.up("sm"),(0,g.Z)({},i,c))),anchorOriginBottomCenter:(0,g.Z)({},n,(0,f.Z)({},e.breakpoints.up("sm"),(0,g.Z)({},o,c))),anchorOriginTopRight:(0,g.Z)({},t,a,(0,f.Z)({},e.breakpoints.up("sm"),(0,g.Z)({left:"auto"},i,s))),anchorOriginBottomRight:(0,g.Z)({},n,a,(0,f.Z)({},e.breakpoints.up("sm"),(0,g.Z)({left:"auto"},o,s))),anchorOriginTopLeft:(0,g.Z)({},t,r,(0,f.Z)({},e.breakpoints.up("sm"),(0,g.Z)({right:"auto"},i,l))),anchorOriginBottomLeft:(0,g.Z)({},n,r,(0,f.Z)({},e.breakpoints.up("sm"),(0,g.Z)({right:"auto"},o,l)))}}),{flip:!1,name:"MuiSnackbar"})(T);const R=(0,i.default)(O).withConfig({displayName:"profile__StyledSnackbarContent",componentId:"sc-3be922-0"})(["background-color:#43a047 !important;"]),P=(0,i.default)(m.G).withConfig({displayName:"profile__StyledIcon",componentId:"sc-3be922-1"})(["margin-right:0.5rem;"]);class D extends a.Component{constructor(){super(...arguments),this.state={successMessage:null},this.onStepComplete=()=>{this.setState({successMessage:"Tiedot tallennettu!"})},this.handleClose=()=>{this.setState({successMessage:null})}}async componentDidMount(){var e;if(!this.context.loggedIn)return;let t=await(0,d.gb)();void 0===(null==t||null===(e=t.extra_fields)||void 0===e?void 0:e.research)&&(0,l.navigate)("/missing-info")}render(){return this.context.loggedIn?a.createElement(o.Z,null,a.createElement(u.Z,null,a.createElement(r.Z,{title:"Profile"}),a.createElement("h1",null,"Profile"),a.createElement("p",null,"On this page, you can edit your mooc.fi account settings for this course. You can also check your profile on mooc.fi's Test My Code service:"," ",a.createElement("a",{href:"https://tmc.mooc.fi",rel:"noopener noreferrer"},"https://tmc.mooc.fi"),"."),a.createElement(s.Z,{onComplete:this.onStepComplete})),a.createElement(F,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.successMessage,autoHideDuration:6e3,onClose:this.handleClose},a.createElement(R,{variant:"success",message:a.createElement(a.Fragment,null,a.createElement(P,{icon:h.f8k})," ",a.createElement("span",null,this.state.successMessage))}))):("undefined"!=typeof window&&(0,l.navigate)("/sign-in"),a.createElement("div",null,"Redirecting..."))}}D.contextType=c.ZP;var W=(0,c._N)(D)}}]);
//# sourceMappingURL=component---src-pages-profile-js-19245cb0ae4e23091432.js.map